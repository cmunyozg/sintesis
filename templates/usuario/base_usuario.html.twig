{% extends 'base.html.twig' %}
{% block title %}{% endblock %}
{% block css %}
<link rel="stylesheet" href="{{ asset('css/estilos-usuario.css') }}">
{% endblock %}
{% block tituloSeccion %}MENÚ DE USUARIO{% endblock %}
{% block contenido %}
<div class="row mx-auto no-gutters">
    <!-- MENÚ -->
    <div class="d-xl-none col-12">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="{{path('usuario_datos')}}">{{app.user.alias|upper}}</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarUsuario"
                aria-controls="navbarUsuario" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarUsuario">
                <ul class="navbar-nav m-auto text-lg-center align-items-lg-center">
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('usuario_edit', {'id': app.user.id})}}"><i
                                class="fas fa-edit fa-lg mr-1 d-lg-none"></i>Editar datos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('usuario_perfil', {'id': app.user.id})}}"><i
                                class="fas fa-user-circle fa-lg mr-1 d-lg-none"></i> Perfil público</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('evento_index')}}"><i
                                class="fas fa-calendar-minus fa-lg mr-1 d-lg-none"></i>
                            Publicaciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('suscripciones')}}"><i
                                class="fas fa-calendar-check fa-lg mr-1 d-lg-none"></i>
                            Suscripciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('evento_new')}}"><i
                                class="fas fa-plus-circle fa-lg mr-1 d-lg-none" aria-hidden="true"></i>
                            Publicar evento</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('app_logout')}}"><i
                                class="fas fa-times-circle fa-lg mr-1 d-lg-none" aria-hidden="true"></i>
                            Cerrar Sesión</a>
                    </li>
                    <br>
                    {% if app.user.rol == 1 %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('reporte_index')}}"><i class="fas fa-calendar-times fa-lg mr-1 d-lg-none"></i>
                            Reportes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('block_event_index')}}"><i
                                class="fas fa-exclamation-circle fa-lg mr-1 d-lg-none"></i> Bloqueos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{path('event_active_index')}}"><i class="fas fa-calendar-alt fa-lg mr-1 d-lg-none"></i>
                            Eventos activos</a>
                    </li>
                    {% endif %}
                </ul>

            </div>
        </nav>
    </div>

    <!-- COLUMNA MENÚ PANTALLAS XL-->
    <div class="d-none d-xl-block col-3 bg-light columna-usuario p-3">
        <h5 class="titulo-menu text-center pl-0 mb-4">
            <a href="{{path('usuario_datos')}}">
                {% if app.user.imagen %}
                <img src="{{asset('uploads/usuarios/' ~ app.user.imagen)}}" height="140px" class="mb-2"><br>
                {% else %}
                <img src="https://avatars.dicebear.com/v2/identicon/{{app.user.alias}}.svg" height="140px"
                    class="mb-2"><br>
                {% endif %}
                {{app.user.alias}}
            </a>
        </h5>
        <hr>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" href="{{path('usuario_edit', {'id': app.user.id})}}"><i
                        class="fas fa-edit fa-lg mr-1 mt-3"></i>Editar datos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('usuario_perfil', {'id': app.user.id})}}"><i
                        class="fas fa-user-circle fa-lg mr-1"></i> Perfil público</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('evento_index')}}"><i class="fas fa-calendar-minus fa-lg mr-1"></i>
                    Publicaciones</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('suscripciones')}}"><i class="fas fa-calendar-check fa-lg mr-1"></i>
                    Suscripciones</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('evento_new')}}"><i class="fas fa-plus-circle fa-lg mr-1"
                        aria-hidden="true"></i>
                    Publicar evento</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('app_logout')}}"><i class="fas fa-times-circle fa-lg mr-1"
                        aria-hidden="true"></i>
                    Cerrar Sesión</a>
            </li>
        </ul>
        {% if app.user.rol == 1 %}
        <h5 class="titulo-menu text-muted">
            Administración
        </h5>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" href="{{path('reporte_index')}}"><i class="fas fa-calendar-times fa-lg mr-1"></i>
                    Reportes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('block_event_index')}}"><i
                        class="fas fa-exclamation-circle fa-lg mr-1"></i> Bloqueos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('event_active_index')}}"><i class="fas fa-calendar-alt fa-lg mr-1"></i>
                    Eventos activos</a>
            </li>

        </ul>
        {% endif %}
    </div>

    <!-- CONTENIDO USUARIO -->
    <div class="col-12 col-xl-9 contenido-usuario pl-xl-3 pr-0">

        {% block contenidoUsuario %}{% endblock %}

    </div>
</div>

{% endblock %}